(this["webpackJsonpjob-offers-app"]=this["webpackJsonpjob-offers-app"]||[]).push([[0],{10:function(e,t,a){e.exports={main:"Page_main__2ArXa",title:"Page_title__3e0SX",infoBox:"Page_infoBox__1fkY-",titleBox:"Page_titleBox__2Buzb",chartBox:"Page_chartBox__5ecJd"}},105:function(e,t,a){e.exports={searchBox:"SearchBar_searchBox__3hgAq",input:"SearchBar_input__35An9"}},13:function(e,t,a){e.exports={card:"OfferCard_card__2GsA6",company:"OfferCard_company__3a7KL",city:"OfferCard_city__3EhPX",editPart:"OfferCard_editPart__2hotI",imgWrap:"OfferCard_imgWrap__1qlAT",imgInfo:"OfferCard_imgInfo__2bjF9",img:"OfferCard_img__2UbYG",imgEdit:"OfferCard_imgEdit__3sOxO",imgDelete:"OfferCard_imgDelete__gsLIj",date:"OfferCard_date__1QckW",text:"OfferCard_text__FvKpm",link:"OfferCard_link__1oj6v"}},14:function(e,t,a){e.exports={mainBox:"OffersList_mainBox__3S7Ae",title:"OffersList_title__anw61",btnGroup:"OffersList_btnGroup__29bOE",btn:"OffersList_btn__1pITB",leftBtn:"OffersList_leftBtn__2zSF2",rightBtn:"OffersList_rightBtn__2hHqp",activeBtn:"OffersList_activeBtn__35gLZ",listBox:"OffersList_listBox__3DzK_",infoBox:"OffersList_infoBox__1e2Ga"}},159:function(e,t,a){e.exports={modalBackground:"EditModal_modalBackground__2lnVX",modal:"EditModal_modal__2s3KQ"}},202:function(e,t,a){e.exports=a(392)},207:function(e,t,a){},30:function(e,t,a){e.exports={nav:"Nav_nav__3gICw",navOpen:"Nav_navOpen__2U9T0",link:"Nav_link__1CVGd"}},34:function(e,t,a){e.exports={modalBackground:"RemoveModal_modalBackground__3RT9Y",modal:"RemoveModal_modal__x9VJS",text:"RemoveModal_text___2XA8",btn:"RemoveModal_btn__U0LJy",mainBtn:"RemoveModal_mainBtn__3H9Z4"}},392:function(e,t,a){"use strict";a.r(t);var n,r=a(1),c=a.n(r),o=a(41),i=a.n(o),l=(a(207),a(6)),s=a(56),u=a(26),m=a.n(u),f=a(57);!function(e){e.TOGGLE_NAV="TOGGLE_NAV",e.FETCH_OFFERS="FETCH_OFFERS",e.SET_OFFERS="SET_OFFERS",e.ADD_OFFER="ADD_OFFER",e.EDIT_OFFER="EDIT_OFFER",e.DELETE_OFFER="DELETE_OFFER",e.SET_SEARCH_PHRASE="SET_SEARCH_PHRASE",e.SHOW_ADDED_INFO="SHOW_ADDED_INFO",e.SHOW_EDITED_INFO="SHOW_EDITED_INFO",e.SHOW_DELETED_INFO="SHOW_DELETED_INFO"}(n||(n={}));var d=function(){return new Promise((function(e,t){e(localStorage.getItem("myJobOffers")),t(new Error("Fetching data from local storage failed"))})).then((function(e){return"string"===typeof e?JSON.parse(e):[]}))},_=function(){return{type:n.TOGGLE_NAV}},E=function(){return function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d().then((function(e){return t(p(e))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},p=function(e){return{type:n.SET_OFFERS,value:e}},b=function(e){return{type:n.SHOW_ADDED_INFO,value:e}},O=function(e){return{type:n.SHOW_EDITED_INFO,value:e}},v=function(e){return{type:n.SHOW_DELETED_INFO,value:e}},h=a(58),N=a.n(h),j=a(22),g=function(){var e=Object(l.b)();return c.a.createElement("header",{className:N.a.header},c.a.createElement(j.b,{to:"/",className:N.a.link},c.a.createElement("h2",{className:N.a.title},"My Job Offers")),c.a.createElement("div",{className:N.a.hamburger,onClick:function(){e(_())}},c.a.createElement("p",null,"\u2630")))},x=a(10),y=a.n(x),B=a(12),S=function(e){return e.searchPhrase},C=function(e){var t={};return e.forEach((function(e){t[e]=t[e]+1||1})),Object.entries(t).map((function(e){var t=Object(B.a)(e,2);return{name:t[0],value:t[1]}})).sort((function(e,t){return t.value-e.value})).slice(0,10)},k=a(14),F=a.n(k),T=a(13),D=a.n(T),A=a(158),L=a.n(A),w=a(34),I=a.n(w),H=function(e){var t=Object(l.b)(),a=function(e){return t((a=e,function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d().then((function(e){return e.filter((function(e){return e.id!==a}))})).then((function(e){localStorage.setItem("myJobOffers",JSON.stringify(e))})).then((function(){return t(E())}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var a};return c.a.createElement("div",{className:I.a.modalBackground},c.a.createElement("div",{className:I.a.modal},c.a.createElement("p",{className:I.a.text},"Are you sure you want to remove this offer?"),c.a.createElement("button",{className:I.a.btn+" "+I.a.mainBtn,onClick:function(){return n=e.id,a(n),e.handleCloseModal(!1),t(v(!0)),void setTimeout((function(){return t(v(!1))}),3e3);var n}},"Remove"),c.a.createElement("button",{className:I.a.btn,onClick:function(){return e.handleCloseModal(!1)}},"Cancel")))},R=a(159),q=a.n(R),P=a(9),M=a.n(P),W=function(e,t){var a=!0;return a=a&&e.trim().length>0,a=t?a&&!e.match(/[^a-zA-Z0-9, ]/g):a&&!e.match(/[^a-zA-Z0-9 ]/g)},G=function(e,t,a){t(e.currentTarget.value),W(e.currentTarget.value)?a(""):a("Fill out this field. Don't use any special characters.")},J=function(e){var t=Object(r.useState)(e.company?e.company:""),a=Object(B.a)(t,2),n=a[0],o=a[1],i=Object(r.useState)(e.city?e.city:""),l=Object(B.a)(i,2),s=l[0],u=l[1],m=Object(r.useState)(e.req?e.req:""),f=Object(B.a)(m,2),d=f[0],_=f[1],E=Object(r.useState)(e.link?e.link:""),p=Object(B.a)(E,2),b=p[0],O=p[1],v=Object(r.useState)(e.notes?e.notes:""),h=Object(B.a)(v,2),N=h[0],j=h[1],g=Object(r.useState)(!1),x=Object(B.a)(g,2),y=x[0],S=x[1],C=Object(r.useState)(""),k=Object(B.a)(C,2),F=k[0],T=k[1],D=Object(r.useState)(""),A=Object(B.a)(D,2),L=A[0],w=A[1],I=Object(r.useState)(""),H=Object(B.a)(I,2),R=H[0],q=H[1],P=e.mainBtnAction;return Object(r.useEffect)((function(){S(!(!(n&&s&&d)||F||L||R))}),[n,s,d,F,L,R]),c.a.createElement("form",{className:M.a.formBox,onSubmit:function(t){if(t.preventDefault(),W(n)&&W(s)&&W(d,!0)){var a={id:e.id||Date.now(),company:n.trim().toUpperCase(),city:s.trim().toUpperCase(),req:d.split(",").map((function(e){return e.trim().toLowerCase()})).filter((function(e){return 0!==e.length})),link:b.trim(),notes:N.trim()};P(a),o(""),u(""),_(""),O(""),j(""),S(!1)}}},c.a.createElement("label",{className:M.a.label,htmlFor:"companyName"},"Company name*:"),c.a.createElement("input",{type:"text",id:"companyName",value:n,className:M.a.input,onChange:function(e){return G(e,o,T)}}),c.a.createElement("p",{className:M.a.errorBox},F),c.a.createElement("label",{className:M.a.label,htmlFor:"cityName"},"City name*:"),c.a.createElement("input",{type:"text",id:"cityName",value:s,className:M.a.input,onChange:function(e){return G(e,u,w)}}),c.a.createElement("p",{className:M.a.errorBox},L),c.a.createElement("label",{className:M.a.label,htmlFor:"req"},"Job requirements*:"),c.a.createElement("textarea",{id:"req",value:d,className:M.a.input+" "+M.a.textarea,placeholder:"enter requirements separated by commas",maxLength:240,onChange:function(e){return function(e,t,a){t(e.currentTarget.value),W(e.currentTarget.value,!0)?a(""):a("Fill out this field. Use commas to separate requirements.")}(e,_,q)}}),c.a.createElement("p",{className:M.a.errorBox},R),c.a.createElement("label",{className:M.a.label,htmlFor:"link"},"Link:"),c.a.createElement("input",{type:"text",id:"link",value:b,className:M.a.input,onChange:function(e){return O(e.target.value)}}),c.a.createElement("p",{className:M.a.errorBox}),c.a.createElement("label",{className:M.a.label,htmlFor:"notes"},"Notes:"),c.a.createElement("textarea",{id:"notes",value:N,className:M.a.input+" "+M.a.textarea,placeholder:"additional notes, links, etc.",maxLength:240,onChange:function(e){return j(e.target.value)}}),c.a.createElement("p",{className:M.a.errorBox}),c.a.createElement("button",{className:[M.a.btn,y?M.a.mainBtn:M.a.inactiveBtn].join(" "),type:"submit"},e.mainBtnText),e.optionalBtnText&&e.optionalBtnAction&&c.a.createElement("button",{className:M.a.btn,onClick:function(){e.optionalBtnAction&&e.optionalBtnAction()}},e.optionalBtnText),c.a.createElement("p",{className:M.a.text},"*required fields"))},Y=function(e){var t=e.id,a=e.company,n=e.city,r=e.req,o=e.link,i=e.notes,s=e.handleCloseModal,u=Object(l.b)(),_=function(e){return u(function(e){return function(){var t=Object(f.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",d().then((function(t){return t.map((function(t){return t.id===e.id?e:t}))})).then((function(e){localStorage.setItem("myJobOffers",JSON.stringify(e))})).then((function(){return a(E())})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))};return c.a.createElement("div",{className:q.a.modalBackground},c.a.createElement(J,{mainBtnText:"Edit offer",mainBtnAction:function(t){_(t),e.handleCloseModal(!1),u(O(!0)),setTimeout((function(){return u(O(!1))}),3e3)},optionalBtnText:"Cancel",optionalBtnAction:function(){s(!1)},id:t,company:a,city:n,req:r,link:o,notes:i}))},V=function(e){var t=Object(r.useState)(!1),a=Object(B.a)(t,2),n=a[0],o=a[1],i=Object(r.useState)(!1),l=Object(B.a)(i,2),s=l[0],u=l[1],m=e.id,f=e.company,d=e.city,_=e.req,E=e.link,p=e.notes,b=_.join(", ");return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:D.a.card},E?c.a.createElement("a",{href:E,className:D.a.link,rel:"noopener noreferrer",target:"_blank"},c.a.createElement("h4",{className:D.a.company},f)):c.a.createElement("h4",{className:D.a.company},f),c.a.createElement("h5",{className:D.a.city},d),c.a.createElement("p",{className:D.a.text},c.a.createElement("b",null,"Requirements: "),b),p&&c.a.createElement("p",{className:D.a.text},c.a.createElement("b",null,"Notes: "),p),c.a.createElement("div",{className:D.a.editPart},c.a.createElement("p",{className:D.a.date},"added: ",L()(m).format("DD.MM.YYYY, HH:mm")),c.a.createElement("div",null,c.a.createElement("div",{className:D.a.imgWrap,onClick:function(){return o(!0)}},c.a.createElement("p",{className:D.a.imgInfo},"edit"),c.a.createElement("div",{className:[D.a.img,D.a.imgEdit].join(" ")})),c.a.createElement("div",{className:D.a.imgWrap,onClick:function(){return u(!0)}},c.a.createElement("p",{className:D.a.imgInfo},"remove"),c.a.createElement("div",{className:[D.a.img,D.a.imgDelete].join(" ")}))))),n&&c.a.createElement(Y,{id:m,company:f,city:d,req:b,link:E,notes:p,handleCloseModal:o}),s&&c.a.createElement(H,{id:m,handleCloseModal:u}))},K=function(){var e=Object(r.useState)(!0),t=Object(B.a)(e,2),a=t[0],n=t[1],o=Object(l.c)((function(e){return a?function(e){return e.offersList.sort((function(e,t){return t.id-e.id}))}(e):function(e){return e.offersList.sort((function(e,t){return e.id-t.id}))}(e)})),i=Object(l.c)((function(e){return S(e)})),s=Object(l.c)((function(e){return function(e){return e.offersList.filter((function(t){return t.company.toLowerCase().includes(e.searchPhrase.toLowerCase())||t.city.toLowerCase().includes(e.searchPhrase.toLowerCase())||t.req.join("").toLowerCase().includes(e.searchPhrase.toLowerCase())||t.notes.toLowerCase().includes(e.searchPhrase.toLowerCase())}))}(e)})),u=i?s:o,m=i?"No matches!":"You don't have any offers saved yet. Add some!";return c.a.createElement("section",{className:F.a.mainBox},i?c.a.createElement("h3",{className:F.a.title},"Search results:"):c.a.createElement("h3",{className:F.a.title},"All offers:"),c.a.createElement("div",{className:F.a.btnGroup},c.a.createElement("button",{onClick:function(){return n(!0)},className:a?[F.a.btn,F.a.leftBtn,F.a.activeBtn].join(" "):[F.a.btn,F.a.leftBtn].join(" ")},"newest"),c.a.createElement("button",{onClick:function(){return n(!1)},className:a?[F.a.btn,F.a.rightBtn].join(" "):[F.a.btn,F.a.rightBtn,F.a.activeBtn].join(" ")},"oldest")),c.a.createElement("div",{className:F.a.listBox},0===u.length?c.a.createElement("div",{className:F.a.infoBox},c.a.createElement("p",null,m)):u.map((function(e){var t=e.id,a=e.company,n=e.city,r=e.req,o=e.link,i=e.notes;return c.a.createElement(V,{key:t,id:t,company:a,city:n,req:r,link:o,notes:i})}))))},X=a(105),U=a.n(X),z=function(){var e=Object(l.c)((function(e){return S(e)})),t=Object(l.b)(),a=function(e){return t(function(e){return{type:n.SET_SEARCH_PHRASE,value:e}}(e))};return c.a.createElement("div",{className:U.a.searchBox},c.a.createElement("input",{className:U.a.input,type:"text",value:e,placeholder:"search offers",onChange:function(e){e.preventDefault(),a(e.currentTarget.value)}}))},Z=a(49),Q=a.n(Z),$=function(e){var t=Object(l.b)();return c.a.createElement("div",{className:e.isActive?[Q.a.toast,Q.a.active].join(" "):Q.a.toast},c.a.createElement("p",{className:Q.a.text},function(e){switch(e){case"added":return"Offer added!";case"edited":return"Offer edited!";case"removed":return"Offer removed!"}}(e.type)),c.a.createElement("p",{className:Q.a.btn,onClick:function(){return function(e){switch(e){case"added":t(b(!1));break;case"edited":t(O(!1));break;case"removed":t(v(!1))}}(e.type)}},"\u2715"))},ee=function(){var e=Object(l.c)((function(e){return function(e){return e.editedInfo}(e)})),t=Object(l.c)((function(e){return function(e){return e.deletedInfo}(e)}));return c.a.createElement(c.a.Fragment,null,c.a.createElement("main",{className:y.a.main},c.a.createElement(z,null),c.a.createElement(K,null)),c.a.createElement($,{type:"edited",isActive:e}),c.a.createElement($,{type:"removed",isActive:t}))},te=a(11),ae=a(160),ne=a(161),re=a(173),ce=a(172),oe=a(35),ie=function(e){Object(re.a)(a,e);var t=Object(ce.a)(a);function a(){return Object(ae.a)(this,a),t.apply(this,arguments)}return Object(ne.a)(a,[{key:"render",value:function(){var e=this.props,t=e.x,a=e.y,n=e.payload;return c.a.createElement("g",{transform:"translate(".concat(t,",").concat(a,")")},c.a.createElement("text",{x:0,y:0,dy:8,textAnchor:"end",fill:"#666",transform:"rotate(-75)"},n.value))}}]),a}(r.PureComponent),le=function(e){return c.a.createElement(oe.d,{aspect:1.2,width:"100%"},c.a.createElement(oe.b,{data:e.data,margin:{top:20,right:20,bottom:20,left:20}},c.a.createElement(oe.f,{type:"number",hide:!0}),c.a.createElement(oe.e,{dataKey:"name",height:80,axisLine:!0,tick:c.a.createElement(ie,null),tickLine:!1,interval:0}),c.a.createElement(oe.a,{dataKey:"value",fill:"var(--third-color)",barSize:24},c.a.createElement(oe.c,{dataKey:"value",position:"top"}))))},se=function(){var e=Object(l.c)((function(e){return function(e){var t=[];return e.offersList.forEach((function(e){t=[].concat(Object(s.a)(t),Object(s.a)(e.req))})),C(t)}(e)}));return c.a.createElement("main",{className:y.a.main},c.a.createElement("div",{className:y.a.titleBox},c.a.createElement("h2",{className:y.a.title},"Most common requirements"),c.a.createElement("h3",{className:y.a.subtitle},"in your job offers")),0===e.length?c.a.createElement("div",{className:y.a.infoBox},c.a.createElement("p",null,"You don't have any offers saved yet. Add some!")):c.a.createElement("div",{className:y.a.chartBox},c.a.createElement(le,{data:e})))},ue=function(){var e=Object(l.c)((function(e){return function(e){var t=e.offersList.map((function(e){return e.city}));return C(t)}(e)}));return c.a.createElement("main",{className:y.a.main},c.a.createElement("div",{className:y.a.titleBox},c.a.createElement("h2",{className:y.a.title},"Most common cities"),c.a.createElement("h3",{className:y.a.subtitle},"in your job offers")),0===e.length?c.a.createElement("div",{className:y.a.infoBox},c.a.createElement("p",null,"You don't have any offers saved yet. Add some!")):c.a.createElement("div",{className:y.a.chartBox},c.a.createElement(le,{data:e})))},me=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return function(e){return e.addedInfo}(e)}));return c.a.createElement(c.a.Fragment,null,c.a.createElement("main",{className:y.a.main},c.a.createElement("h3",{className:y.a.title},"Add new offer:"),c.a.createElement(J,{mainBtnText:"Add offer",mainBtnAction:function(t){var a;e((a=t,function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d().then((function(e){return[].concat(Object(s.a)(e),[a])})).then((function(e){localStorage.setItem("myJobOffers",JSON.stringify(e))})).then((function(){return t(E())})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e(b(!0)),setTimeout((function(){return e(b(!1))}),3e3)}})),c.a.createElement($,{type:"added",isActive:!!t}))},fe=a(30),de=a.n(fe),_e=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return function(e){return e.isNavOpen}(e)})),a=function(){e(_())};return c.a.createElement("nav",{className:t?de.a.nav+" "+de.a.navOpen:de.a.nav},c.a.createElement(j.b,{to:"/",className:de.a.link,onClick:a},"All offers"),c.a.createElement(j.b,{to:"/addoffer",className:de.a.link,onClick:a},"Add new offer"),c.a.createElement(j.b,{to:"/requirements",className:de.a.link,onClick:a},"Top requirements"),c.a.createElement(j.b,{to:"/cities",className:de.a.link,onClick:a},"Top cities"))},Ee=function(){var e=Object(r.useState)(!1),t=Object(B.a)(e,2),a=t[0],n=t[1];return Object(r.useEffect)((function(){setTimeout((function(){return n(!0)}),3e3)}),[]),c.a.createElement("main",{className:y.a.main},c.a.createElement("div",{className:y.a.infoBox},c.a.createElement("p",null,"This page doesn't exist"),c.a.createElement("p",null,"You'll be redirected to the home page")),a?c.a.createElement(te.a,{to:"/"}):null)};var pe=function(){var e=Object(l.b)();return Object(r.useEffect)((function(){e(E())}),[]),c.a.createElement("div",{className:"App"},c.a.createElement(j.a,null,c.a.createElement(g,null),c.a.createElement(_e,null),c.a.createElement(te.d,null,c.a.createElement(te.b,{exact:!0,path:"/",component:ee}),c.a.createElement(te.b,{exact:!0,path:"/addoffer",component:me}),c.a.createElement(te.b,{exact:!0,path:"/requirements",component:se}),c.a.createElement(te.b,{exact:!0,path:"/cities",component:ue}),c.a.createElement(te.b,{component:Ee}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var be=a(46),Oe=a(19),ve={isNavOpen:!1,offersList:[],searchPhrase:"",addedInfo:!1,editedInfo:!1,deletedInfo:!1},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.TOGGLE_NAV:return Object(Oe.a)(Object(Oe.a)({},e),{},{isNavOpen:!e.isNavOpen});case n.SET_OFFERS:return Object(Oe.a)(Object(Oe.a)({},e),{},{offersList:t.value});case n.SET_SEARCH_PHRASE:return Object(Oe.a)(Object(Oe.a)({},e),{},{searchPhrase:t.value});case n.SHOW_ADDED_INFO:return Object(Oe.a)(Object(Oe.a)({},e),{},{addedInfo:t.value});case n.SHOW_EDITED_INFO:return Object(Oe.a)(Object(Oe.a)({},e),{},{editedInfo:t.value});case n.SHOW_DELETED_INFO:return Object(Oe.a)(Object(Oe.a)({},e),{},{deletedInfo:t.value});default:return e}},Ne=a(171);var je,ge=(je=ve,Object(be.d)(he,je,Object(be.c)(Object(be.a)(Ne.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(l.a,{store:ge},c.a.createElement(pe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},49:function(e,t,a){e.exports={toast:"Toast_toast__2Hubc",active:"Toast_active__2Pohs",btn:"Toast_btn__6_gxx"}},58:function(e,t,a){e.exports={header:"Header_header__1VCKf",link:"Header_link__2wI74",title:"Header_title__3SH2Q",hamburger:"Header_hamburger__uB-MN"}},9:function(e,t,a){e.exports={formBox:"Form_formBox__t4FbK",input:"Form_input__2ESfd",textarea:"Form_textarea__2lt1W",errorBox:"Form_errorBox__2uYbp",btn:"Form_btn__aasqa",inactiveBtn:"Form_inactiveBtn__12B35",mainBtn:"Form_mainBtn__3jq0i"}}},[[202,1,2]]]);
//# sourceMappingURL=main.ff4a9533.chunk.js.map